{
  "ruleset_id": "COMMON_V1",
  "extractors": {
    "doc_date": {
      "rule_id": "CMN_DATE_01",
      "pattern": "\\b((?:0[1-9]|[12]\\d|3[01])[\\/-](?:0[1-9]|1[0-2])[\\/-]\\d{4})\\b",
      "group": 1,
      "type": "date",
      "flags": ["MULTILINE"],
      "many": true,
      "nlp": {
        "use_pos": false,
        "pos_patterns": [],
        "use_ner": true,
        "ner_labels": ["DATE"],
        "confidence_threshold": 0.0
      },
      "min_confidence": 0.0,
      "apply_post_filters": true,
      "post_filters": ["no_trailing_dot"]
    },

    "email": {
      "rule_id": "CMN_EMAIL_01",
      "pattern": "(?xi)(?<![@A-Z0-9!#$%&'*+/=?^_`{|}~.-])([A-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:(?:[A-Z0-9](?:[A-Z0-9-]*[A-Z0-9])?\\.)+[A-Z]{2,63}|\\[(?:(?:\\d{1,3}\\.){3}\\d{1,3}|IPv6:[A-F0-9:.]+)\\]))(?![A-Z0-9!#$%&'*+/=?^_`{|}~@])",
      "group": 1,
      "type": "email",
      "flags": ["IGNORECASE"],
      "many": true,
      "nlp": {
        "use_pos": false,
        "pos_patterns": [],
        "use_ner": true,
        "ner_labels": ["EMAIL"],
        "confidence_threshold": 0.0
      },
      "min_confidence": 0.0,
      "apply_post_filters": true,
      "post_filters": ["no_trailing_dot", "no_double_dot_domain", "no_multiple_at"]
    },

    "telephone": {
      "rule_id": "CMN_PHONE_01",
      "pattern": "(?<!\\d)((?:0[5-7]\\d{8})|(?:(?:\\+213|00213)[ \\t]*(?:[5-7]\\d{8}|[5-7]\\d{2}(?:[ \\t.\\-]?\\d{2}){3}))) (?!\\d)",
      "group": 1,
      "type": "phone",
      "flags": ["IGNORECASE"],
      "many": true,
      "min_digits": 10,
      "max_digits": 14,
      "max_group_len": 6,
      "require_separator": false,
      "min_groups": 1,
      "min_groups_small_digits": 1,
      "nlp": {
        "use_pos": false,
        "pos_patterns": [],
        "use_ner": false,
        "ner_labels": [],
        "confidence_threshold": 0.0
      },
      "min_confidence": 0.0,
      "apply_post_filters": false,
      "post_filters": []
    },

    "site": {
      "rule_id": "CMN_URL_01",
      "pattern": "(?xi)\\b(?:(?:https?://)(?!/)|www\\.)(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+(?:[a-z]{2,63}|xn--[a-z0-9-]{2,59})(?::\\d{2,5})?(?:/[^\\s]*)?\\b",
      "group": 0,
      "type": "url",
      "flags": ["IGNORECASE"],
      "many": true,
      "nlp": {
        "use_pos": false,
        "pos_patterns": [],
        "use_ner": false,
        "ner_labels": [],
        "confidence_threshold": 0.0
      },
      "min_confidence": 0.0,
      "apply_post_filters": true,
      "post_filters": ["no_trailing_dot", "no_double_dot", "no_dash_start"]
    }
  },

  "implementation_notes": "Mises a jour: (1) Dates strictes DD/MM/YYYY ou DD-MM-YYYY avec mois 01-12 et jour 01-31 (rejette 32/.., ../13/.., 1/1/24, 2023/12/12). (2) Email: ajout d'un garde-fou de contexte au debut (?<![@...-]) pour eviter les extractions partielles dans mon..email@... et email@test@test.com. (3) Telephone: regex specialisee Algerie: 0[5-7] + 8 chiffres (10) ou +213/00213 + 9 chiffres, sans \\n (seulement espaces/tabs/.-). Names et Orgs retires."
}
