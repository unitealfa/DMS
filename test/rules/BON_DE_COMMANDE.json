{
  "ruleset_id": "BON_DE_COMMANDE_V1",
  "extractors": {
    "po_number": {
      "rule_id": "PO_NUM_01",
      "pattern": "(?i)(purchase\\s*order|bon\\s*de\\s*commande)\\s*(no\\.|#|n\\u00b0)?\\s*[:\\-]?\\s*([A-Z0-9\\-]+)",
      "group": 3,
      "type": "text",
      "flags": ["IGNORECASE"]
    },
    "order_date": {
      "rule_id": "PO_DATE_01",
      "pattern": "(?i)(order\\s*date|date\\s*de\\s*commande)\\s*[:\\-]?\\s*(\\d{1,2}[\\/\\-]\\d{1,2}[\\/\\-]\\d{2,4})",
      "group": 2,
      "type": "date",
      "flags": ["IGNORECASE"]
    },
    "supplier": {
      "rule_id": "PO_SUP_01",
      "pattern": "(?i)(supplier|fournisseur)\\s*[:\\-]?\\s*(.+)",
      "group": 2,
      "type": "text",
      "flags": ["IGNORECASE", "MULTILINE"],
      "surface": "lines"
    },
    "total_amount": {
      "rule_id": "PO_TOTAL_01",
      "pattern": "(?i)(total|montant\\s+total|total\\s+ttc)\\s*[:\\-]?\\s*([0-9][0-9\\s.,]+)",
      "group": 2,
      "type": "number",
      "flags": ["IGNORECASE"]
    }
  }
}
